<!-- Bootstrap -->
<title>Checkout</title>
<link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous"
/>
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"
></script>
      
  </div>
  <div class="b-example-divider"></div>

  <div class="container col-xxl-8 px-4 py-5">
    <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
      <div class="col-10 col-sm-8 col-lg-6">
        <img src="{{product.image.url}}" class="d-block mx-lg-auto img-fluid" alt="Bootstrap Themes" width="700" height="500" loading="lazy">
      </div>
      <div class="col-lg-6">
        <h1 class="display-5 fw-bold lh-1 mb-3">{{product.title}}</h1>
        <p class="lead">{{product.description}}</p>
        <div>
        </div>
        <p class="lead">Rs {{product.price}}</p>
        <div class="d-grid gap-2 d-md-flex justify-content-md-start">
          <button  type="button" class="btn btn-primary btn-lg px-4 me-md-2"><a style="color: white;  text-decoration: none;" href="?action=create_payment">Continue<a/></button>
          {% comment %} <button type="button" class="btn btn-outline-secondary btn-lg px-4">Default</button> {% endcomment %}
        </div>
      </div>
    </div>
  </div>

  <div class="b-example-divider"></div>


{% if order is not None %}
<!-- Razorpay Integrations -->
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<script>
var options = {
    "key": "rzp_test_tRzIzsfuB2WrqP", // Enter the Key ID generated from the Dashboard
    "name": "Google Giveaway",
    "description": "Payment for {{product.title}}",
    "image": "#",
    "order_id": "{{order.id}}", //This is a sample Order ID. Pass the `id` obtained in the response of Step 2
    "callback_url": "{% url 'order:verify_payment' %}",
    "prefill": {
        "name": "{{user.user_name}}",
        "email": "{{user.email}}",
        "contact": "9999999999"
    },
    "theme": {
        "color": "#3399cc"
    }
};
var rzp1 = new Razorpay(options);
rzp1.open();
</script>
{% endif %}

{% if error %}
<script>
   window.onload = () =>{
     alert("{{error}}")
   }
</script>
{% endif %}